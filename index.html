<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soccer Tournament Manager</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
      color: white;
      padding: 30px;
      text-align: center;
      position: relative;
    }

    .header::before {
      content: 'âš½';
      position: absolute;
      left: 30px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 2em;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {

      0%,
      20%,
      50%,
      80%,
      100% {
        transform: translateY(-50%);
      }

      40% {
        transform: translateY(-60%);
      }

      60% {
        transform: translateY(-55%);
      }
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }

    .subtitle {
      font-size: 1.2em;
      opacity: 0.9;
    }

    .tabs {
      display: flex;
      background: #f8f9fa;
      border-bottom: 3px solid #e9ecef;
    }

    .tab-button {
      flex: 1;
      padding: 20px;
      background: none;
      border: none;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      color: #6c757d;
      position: relative;
    }

    .tab-button:hover {
      background: rgba(102, 126, 234, 0.1);
    }

    .tab-button.active {
      color: #667eea;
      background: white;
    }

    .tab-button.active::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #667eea, #764ba2);
    }

    .tab-content {
      display: none;
      padding: 30px;
      min-height: 600px;
    }

    .tab-content.active {
      display: block;
    }

    .table-container {
      overflow-x: auto;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
    }

    th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px 10px;
      text-align: center;
      font-weight: 600;
      font-size: 0.95em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    td {
      padding: 12px 10px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
      transition: background-color 0.2s ease;
    }

    tr:hover td {
      background-color: rgba(102, 126, 234, 0.05);
    }

    .team-name {
      font-weight: 600;
      color: #2c3e50;
    }

    .match-result {
      width: 50px;
      border: 2px solid #e9ecef;
      border-radius: 6px;
      padding: 8px;
      text-align: center;
      font-weight: 600;
      transition: border-color 0.3s ease;
    }

    .match-result:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .standings-table td:first-child {
      text-align: left;
      font-weight: 600;
      color: #2c3e50;
    }

    .position {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
    }

    .gold {
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      color: #2c3e50;
    }

    .silver {
      background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);
      color: #2c3e50;
    }

    .bronze {
      background: linear-gradient(135deg, #cd7f32 0%, #daa520 100%);
      color: white;
    }

    .schedule-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .round-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      border-left: 4px solid #667eea;
    }

    .round-title {
      font-size: 1.3em;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }

    .round-title::before {
      content: 'ðŸ“…';
      margin-right: 10px;
    }

    .match {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #f8f9fa;
    }

    .match:last-child {
      border-bottom: none;
    }

    .vs {
      font-weight: bold;
      color: #667eea;
      margin: 0 10px;
    }

    .export-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 10px 5px;
    }

    .export-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      border-top: 4px solid #667eea;
    }

    .stat-number {
      font-size: 2.5em;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 10px;
    }

    .stat-label {
      color: #6c757d;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>Soccer Tournament Manager</h1>
      <div class="subtitle">Complete Home & Away League - 7 Teams</div>
    </div>

    <div class="tabs">
      <button class="tab-button active" onclick="showTab('fixtures')">Fixtures</button>
      <button class="tab-button" onclick="showTab('results')">Results</button>
      <button class="tab-button" onclick="showTab('standings')">Standings</button>
      <button class="tab-button" onclick="showTab('schedule')">Match Schedule</button>
    </div>

    <div id="fixtures" class="tab-content active">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">42</div>
          <div class="stat-label">Total Matches</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">12</div>
          <div class="stat-label">Matches per Team</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">12</div>
          <div class="stat-label">Total Rounds</div>
        </div>
      </div>

      <div class="table-container">
        <table id="fixturesTable">
          <thead>
            <tr>
              <th>Home Team</th>
              <th>Santiago Duque</th>
              <th>DarÃ­o HernÃ¡ndez</th>
              <th>Steven Perez</th>
              <th>AndrÃ©s Monsalve</th>
              <th>AndrÃ©s Celis</th>
              <th>Huber Ospina</th>
              <th>Santiago Ospina</th>
            </tr>
          </thead>
          <tbody id="fixturesBody">
          </tbody>
        </table>
      </div>

      <button class="export-button" onclick="exportToCSV('fixtures')">ðŸ“Š Export Fixtures</button>
    </div>

    <div id="results" class="tab-content">
      <h2 style="color: #2c3e50; margin-bottom: 20px;">Enter Match Results</h2>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Round</th>
              <th>Home Team</th>
              <th>Home Score</th>
              <th>Away Score</th>
              <th>Away Team</th>
            </tr>
          </thead>
          <tbody id="resultsBody">
          </tbody>
        </table>
      </div>

      <button class="export-button" onclick="calculateStandings()">ðŸ“Š Update Standings</button>
      <button class="export-button" onclick="exportToCSV('results')">ðŸ“„ Export Results</button>
    </div>

    <div id="standings" class="tab-content">
      <div class="table-container">
        <table class="standings-table">
          <thead>
            <tr>
              <th>Pos</th>
              <th>Team</th>
              <th>Played</th>
              <th>Won</th>
              <th>Drawn</th>
              <th>Lost</th>
              <th>Goals For</th>
              <th>Goals Against</th>
              <th>Goal Diff</th>
              <th>Points</th>
            </tr>
          </thead>
          <tbody id="standingsBody">
          </tbody>
        </table>
      </div>

      <button class="export-button" onclick="exportToCSV('standings')">ðŸ“Š Export Standings</button>
    </div>

    <div id="schedule" class="tab-content">
      <div class="schedule-grid" id="scheduleGrid">
      </div>
    </div>
  </div>

  <script>
    const teams = ['Santiago Duque', 'DarÃ­o HernÃ¡ndez', 'Steven Perez', 'AndrÃ©s Monsalve', 'AndrÃ©s Celis', 'Huber Ospina', 'Santiago Ospina'];
    let fixtures = [];
    let results = [];
    let standings = {};

    // Initialize standings
    function initializeStandings() {
      teams.forEach(team => {
        standings[team] = {
          played: 0,
          won: 0,
          drawn: 0,
          lost: 0,
          goalsFor: 0,
          goalsAgainst: 0,
          goalDiff: 0,
          points: 0
        };
      });
    }

    // Generate round-robin fixtures
    function generateFixtures() {
      fixtures = [];
      let matchId = 1;

      // Home and away matches
      for (let round = 0; round < 2; round++) {
        for (let i = 0; i < teams.length; i++) {
          for (let j = 0; j < teams.length; j++) {
            if (i !== j) {
              if (round === 0) {
                fixtures.push({
                  id: matchId++,
                  round: Math.floor((fixtures.length) / 5) + 1,
                  home: teams[i],
                  away: teams[j],
                  homeScore: null,
                  awayScore: null
                });
              } else {
                // Second round (reverse fixtures)
                fixtures.push({
                  id: matchId++,
                  round: Math.floor((fixtures.length) / 5) + 1,
                  home: teams[j],
                  away: teams[i],
                  homeScore: null,
                  awayScore: null
                });
              }
            }
          }
        }
      }
    }

    // Display fixtures matrix
    function displayFixtures() {
      const tbody = document.getElementById('fixturesBody');
      tbody.innerHTML = '';

      teams.forEach(homeTeam => {
        const row = document.createElement('tr');
        row.innerHTML = `<td class="team-name">${homeTeam}</td>`;

        teams.forEach(awayTeam => {
          if (homeTeam === awayTeam) {
            row.innerHTML += '<td style="background-color: #f8f9fa;">-</td>';
          } else {
            // Find both home and away fixtures
            const homeFixture = fixtures.find(f => f.home === homeTeam && f.away === awayTeam);
            const awayFixture = fixtures.find(f => f.home === awayTeam && f.away === homeTeam);

            let cellContent = '';
            if (homeFixture && homeFixture.homeScore !== null) {
              cellContent += `H: ${homeFixture.homeScore}-${homeFixture.awayScore}<br>`;
            } else {
              cellContent += 'H: -<br>';
            }

            if (awayFixture && awayFixture.homeScore !== null) {
              cellContent += `A: ${awayFixture.awayScore}-${awayFixture.homeScore}`;
            } else {
              cellContent += 'A: -';
            }

            row.innerHTML += `<td style="font-size: 0.85em;">${cellContent}</td>`;
          }
        });

        tbody.appendChild(row);
      });
    }

    // Display results input
    function displayResults() {
      const tbody = document.getElementById('resultsBody');
      tbody.innerHTML = '';

      fixtures.forEach((fixture, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
                    <td>${fixture.round}</td>
                    <td class="team-name">${fixture.home}</td>
                    <td><input type="number" class="match-result" min="0" max="20" 
                        value="${fixture.homeScore || ''}" 
                        onchange="updateResult(${index}, 'home', this.value)"></td>
                    <td><input type="number" class="match-result" min="0" max="20" 
                        value="${fixture.awayScore || ''}" 
                        onchange="updateResult(${index}, 'away', this.value)"></td>
                    <td class="team-name">${fixture.away}</td>
                `;
        tbody.appendChild(row);
      });
    }

    // Update result
    function updateResult(fixtureIndex, type, value) {
      if (type === 'home') {
        fixtures[fixtureIndex].homeScore = value ? parseInt(value) : null;
      } else {
        fixtures[fixtureIndex].awayScore = value ? parseInt(value) : null;
      }
      displayFixtures();
    }

    // Calculate standings
    function calculateStandings() {
      initializeStandings();

      fixtures.forEach(fixture => {
        if (fixture.homeScore !== null && fixture.awayScore !== null) {
          const homeTeam = fixture.home;
          const awayTeam = fixture.away;
          const homeScore = fixture.homeScore;
          const awayScore = fixture.awayScore;

          // Update played games
          standings[homeTeam].played++;
          standings[awayTeam].played++;

          // Update goals
          standings[homeTeam].goalsFor += homeScore;
          standings[homeTeam].goalsAgainst += awayScore;
          standings[awayTeam].goalsFor += awayScore;
          standings[awayTeam].goalsAgainst += homeScore;

          // Determine result
          if (homeScore > awayScore) {
            standings[homeTeam].won++;
            standings[homeTeam].points += 3;
            standings[awayTeam].lost++;
          } else if (homeScore < awayScore) {
            standings[awayTeam].won++;
            standings[awayTeam].points += 3;
            standings[homeTeam].lost++;
          } else {
            standings[homeTeam].drawn++;
            standings[awayTeam].drawn++;
            standings[homeTeam].points++;
            standings[awayTeam].points++;
          }
        }
      });

      // Calculate goal difference
      Object.keys(standings).forEach(team => {
        standings[team].goalDiff = standings[team].goalsFor - standings[team].goalsAgainst;
      });

      displayStandings();
    }

    // Display standings
    function displayStandings() {
      const tbody = document.getElementById('standingsBody');
      tbody.innerHTML = '';

      // Sort teams by points, then goal difference, then goals for
      const sortedTeams = Object.keys(standings).sort((a, b) => {
        if (standings[b].points !== standings[a].points) {
          return standings[b].points - standings[a].points;
        }
        if (standings[b].goalDiff !== standings[a].goalDiff) {
          return standings[b].goalDiff - standings[a].goalDiff;
        }
        return standings[b].goalsFor - standings[a].goalsFor;
      });

      sortedTeams.forEach((team, index) => {
        const stats = standings[team];
        const row = document.createElement('tr');

        let positionClass = '';
        if (index === 0) positionClass = 'gold';
        else if (index === 1) positionClass = 'silver';
        else if (index === 2) positionClass = 'bronze';

        row.innerHTML = `
                    <td><span class="position ${positionClass}">${index + 1}</span></td>
                    <td class="team-name">${team}</td>
                    <td>${stats.played}</td>
                    <td>${stats.won}</td>
                    <td>${stats.drawn}</td>
                    <td>${stats.lost}</td>
                    <td>${stats.goalsFor}</td>
                    <td>${stats.goalsAgainst}</td>
                    <td style="color: ${stats.goalDiff >= 0 ? '#28a745' : '#dc3545'}; font-weight: 600;">
                        ${stats.goalDiff >= 0 ? '+' : ''}${stats.goalDiff}
                    </td>
                    <td style="font-weight: 700; color: #667eea;">${stats.points}</td>
                `;
        tbody.appendChild(row);
      });
    }

    // Display schedule
    function displaySchedule() {
      const grid = document.getElementById('scheduleGrid');
      grid.innerHTML = '';

      // Group fixtures by round
      const rounds = {};
      fixtures.forEach(fixture => {
        if (!rounds[fixture.round]) {
          rounds[fixture.round] = [];
        }
        rounds[fixture.round].push(fixture);
      });

      Object.keys(rounds).forEach(round => {
        const card = document.createElement('div');
        card.className = 'round-card';

        let matchesHtml = '';
        rounds[round].forEach(fixture => {
          const resultText = (fixture.homeScore !== null && fixture.awayScore !== null)
            ? `${fixture.homeScore} - ${fixture.awayScore}`
            : 'vs';

          matchesHtml += `
                        <div class="match">
                            <span>${fixture.home}</span>
                            <span class="vs">${resultText}</span>
                            <span>${fixture.away}</span>
                        </div>
                    `;
        });

        card.innerHTML = `
                    <div class="round-title">Round ${round}</div>
                    ${matchesHtml}
                `;

        grid.appendChild(card);
      });
    }

    // Tab switching
    function showTab(tabName) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });

      // Show selected tab
      document.getElementById(tabName).classList.add('active');
      event.target.classList.add('active');

      // Refresh content if needed
      if (tabName === 'standings') {
        calculateStandings();
      } else if (tabName === 'schedule') {
        displaySchedule();
      }
    }

    // Export to CSV
    function exportToCSV(type) {
      let csvContent = '';
      let filename = '';

      if (type === 'fixtures') {
        csvContent = 'Home Team,Away Team,Round,Home Score,Away Score\n';
        fixtures.forEach(fixture => {
          csvContent += `${fixture.home},${fixture.away},${fixture.round},${fixture.homeScore || ''},${fixture.awayScore || ''}\n`;
        });
        filename = 'tournament_fixtures.csv';
      } else if (type === 'results') {
        csvContent = 'Round,Home Team,Home Score,Away Score,Away Team\n';
        fixtures.filter(f => f.homeScore !== null && f.awayScore !== null).forEach(fixture => {
          csvContent += `${fixture.round},${fixture.home},${fixture.homeScore},${fixture.awayScore},${fixture.away}\n`;
        });
        filename = 'tournament_results.csv';
      } else if (type === 'standings') {
        csvContent = 'Position,Team,Played,Won,Drawn,Lost,Goals For,Goals Against,Goal Difference,Points\n';
        const sortedTeams = Object.keys(standings).sort((a, b) => {
          if (standings[b].points !== standings[a].points) {
            return standings[b].points - standings[a].points;
          }
          if (standings[b].goalDiff !== standings[a].goalDiff) {
            return standings[b].goalDiff - standings[a].goalDiff;
          }
          return standings[b].goalsFor - standings[a].goalsFor;
        });

        sortedTeams.forEach((team, index) => {
          const stats = standings[team];
          csvContent += `${index + 1},${team},${stats.played},${stats.won},${stats.drawn},${stats.lost},${stats.goalsFor},${stats.goalsAgainst},${stats.goalDiff},${stats.points}\n`;
        });
        filename = 'tournament_standings.csv';
      }

      const blob = new Blob([csvContent], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      a.click();
      window.URL.revokeObjectURL(url);
    }

    // Initialize everything
    document.addEventListener('DOMContentLoaded', function () {
      initializeStandings();
      generateFixtures();
      displayFixtures();
      displayResults();
      displayStandings();
      displaySchedule();
    });
  </script>
</body>

</html>